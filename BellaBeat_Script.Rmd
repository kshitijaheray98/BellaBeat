---
title: "BellaBeat"
author: "Kshitija Hire"
date: "`r format(Sys.Date(), '%A, %B %e %Y')` "
output: 
  html_document:
    toc: yes
subtitle: Exploratory Data Analysis for a Wellness Company
  
---


```{r eval = FALSE}
#install.packages("tidyverse")
```


```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE, 
                      eval = TRUE, 
                      cache = FALSE, 
                      cache.lazy = FALSE )
```

Load the data wrangling package here.

```{r libraries, eval = TRUE, message = FALSE, warning = FALSE}
library(tidyverse)
library(lubridate)
```

### LOADING AND VIEWING THE DATA


Let's load the data

```{r eval = TRUE}
daily_activity <- read_csv("data/dailyActivity_merged.csv")
head(daily_activity, n=10)
```


```{r eval = TRUE}
str(daily_activity)
```

### DATA CLEANING

```{r eval = TRUE}
# changing the Date format
daily_activity <- daily_activity %>% 
  rename(Date = ActivityDate) %>% 
  mutate(Date = as.Date(Date, format = "%m/%d/%y"))
  #dmy(Date)

daily_activity
  
```



```{r eval = TRUE}
# Dropping unwanted columns
daily_activity <-  daily_activity %>% 
  select(-c(TrackerDistance, SedentaryActiveDistance))
daily_activity
```


```{r eval = TRUE}
#Calculate unique number of participants
daily_activity %>% count(Id)
```
We see that we have a data of 33 women who recorded their daily activity using Bella Beat Fitbit for 31 days. 



### DATA EXPLORATION 

```{r eval = TRUE}

daily_activity %>% 
  ggplot(aes(x = TotalSteps,
             y = Calories)) +
  geom_point()+
  geom_smooth()

```
There is an evident positive relation between the total number of steps taken by a participant and the calories burned by them. But, it is not the only reason for their burning calories as the plot is quite scattered. 

For example, Lets take 10,000 steps. The calories burned for one participant are 1500 and for other, it is 4000. Which is a huge difference.  

Let's explore in detail what other factors come into play into burning more calories for the same number of steps taken. 

```{r eval = TRUE}
daily_activity <- daily_activity %>% 
  drop_na() %>% 
  mutate(Dist_Category = ifelse(TotalDistance < 4, 'Less than 4 miles',
                         ifelse(TotalDistance >= 4 & TotalDistance <= 7, 'Between 4 and 7 miles', 
                         'More than 7 miles'))) %>% 
mutate(Dist_Category = factor(Dist_Category, levels = c("Less than 4 miles", "Between 4 and 7 miles", "More than 7 miles")))
 
daily_activity
  
```


```{r}
daily_activity <- daily_activity %>% 
  drop_na() %>% 
  mutate(TotalSteps_Category = ifelse(TotalSteps < 6000, 'Less than 6k steps',
                         ifelse(TotalSteps >= 6000 & TotalSteps <= 10000, 'Between 6k and 10k steps', 
                         'More than 10k'))) %>% 
mutate(TotalSteps_Category = factor(TotalSteps_Category, levels = c("Less than 6k steps", "Between 6k and 10k steps", "More than 10k")))
 
daily_activity
```
```{r}
summary(daily_activity)
```


We could observe :
The average women seems to walk more number of steps but eventually cover less distance. 





```{r}
daily_activity %>% 
ggplot(aes(TotalSteps_Category,Calories)) +
  geom_boxplot() +
  geom_jitter(alpha = 0.1)+
  
    labs(title="Calories burned by Steps",x=NULL)
```




Before moving on to additional factors involved in burning more calories with less or the same number of steps, let's take another look at the link between Calories Burned and Steps Taken.

There is an even distribution of women walking from less than 6k steps to more than 10k. 

```{r}
daily_activity %>% 
ggplot(aes(Dist_Category,Calories)) +
  geom_boxplot() +
  geom_jitter(alpha = 0.1)+
  
    labs(title="Calories burned by Distance",x=NULL)
```




We can see that when women walk longer distances, they burn more calories.
This could be a contributing factor to burn m

We also notice, For the majority of the time, many women walk fewer than 10 miles each day. We can assume they have a set path that they take every day, either for work or as part of their daily fitness routine.

```{r}
daily_activity %>% 
ggplot(aes(TotalSteps_Category,Calories,fill=TotalSteps_Category)) +
  geom_boxplot() +
    facet_wrap(~Dist_Category)+
  
    labs(title="Calories burned by Steps and Distance",x=NULL) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
  

```



Different distance, Different number of steps:

"More than 10k steps" in "between 4 and 7 miles" and "less than 6k steps" in "less than 4 miles" both burn the same amount of calories.


Same distance, Different number of steps:

In "More than 7 miles", more calories are burned with less number of steps (between 6-10k) than more than 10k. 

This reinforces the idea that speed is one of the most important factor to burn calories. 












